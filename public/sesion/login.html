<!DOCTYPE html>
<html>

<head>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <link rel="stylesheet" href="/home.css">

    <title>Iniciar sesión</title>

</head>

<body>
    <h1>Iniciar sesión</h1>
    <form>
        <label for="correo">Correo electrónico:</label>
        <input type="email" id="correo" required><br><br>
        <label for="pass">pass:</label>
        <input type="password" id="pass" required><br><br>
        <button type="button" onclick="iniciarSesion()">Iniciar sesión</button>
    </form>

    <script>
        function iniciarSesion() {
            // Obtener los valores de los campos de entrada
            var correo = document.getElementById("correo").value;
            var pass = document.getElementById("pass").value;

            // Crear un objeto JSON con los datos de inicio de sesión
            var datosInicioSesion = {
                correo: correo,
                pass: pass
            };

            // Realizar la solicitud de inicio de sesión utilizando fetch
            fetch("/login", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(datosInicioSesion)
            })
                .then(response => response.json())
                .then(data => {
                    console.log("Inicio de sesión exitoso:", data);
                    window.location.href = "/home/minutas.html";
                })
                .catch(error => {
                    // Manejar errores de la solicitud
                    console.error("Error al iniciar sesión:", error);
                });
        }
    </script>

</body>

</html>